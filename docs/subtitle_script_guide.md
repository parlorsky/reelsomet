# Гайд по написанию скриптов для субтитров

Руководство по разметке текста для `styled_subtitles.py` — движка анимированных субтитров.

---

## Быстрый старт

```
Это обычный текст.
**Это акцент** — большое белое слово с эффектом свечения.
*Это выделение* — жёлтое слово среднего размера.
_Это приглушённое_ — маленькое серое слово.
---
Это новая страница (экран очищается).
```

---

## Полный синтаксис разметки

### 1. Акцент — `**слово**`

```
**ГЛАВНОЕ** слово в предложении
```

- Размер: 110px (самый крупный)
- Цвет: белый с ярким свечением (glow)
- Используй для: ключевых слов, CTA, эмоциональных пиков

**Когда использовать:**
- Самые важные слова в предложении
- Призывы к действию
- Числа и статистика
- Эмоциональные слова

**Примеры:**
```
Я заработал **$50,000** за месяц
Это **изменит** твою жизнь
**Подписывайся** прямо сейчас
```

---

### 2. Выделение — `*слово*`

```
Это *важный* момент
```

- Размер: 88px (средний-крупный)
- Цвет: яркий жёлтый
- Используй для: второстепенных акцентов, подчёркивания

**Когда использовать:**
- Важные, но не главные слова
- Названия, термины
- Слова, требующие внимания

**Примеры:**
```
Первый шаг — *исследование* ниши
Используй *проверенные* хуки
Это работает *всегда*
```

---

### 3. Приглушённое — `_слово_`

```
_просто_ делай это _каждый_ день
```

- Размер: 58px (мелкий)
- Цвет: серый
- Используй для: вводных слов, союзов, менее важного

**Когда использовать:**
- Вводные слова
- Союзы и предлоги (если хочешь визуально убрать)
- Пояснения в скобках
- Контраст с акцентами

**Примеры:**
```
**Успех** _это_ не удача
_Если_ ты **хочешь** расти
_Вот_ что _я_ понял
```

---

### 4. Кастомный цвет — `[c:цвет]слово[/]`

```
[c:red]СТОП[/] — это важно
[c:cyan]СТАРТ[/] нового проекта
[c:FF5500]Оранжевый[/] по hex
```

**Доступные цвета:**

| Имя | Цвет | RGB | Когда использовать |
|-----|------|-----|-------------------|
| `white` | Белый | 255,255,255 | Основной текст |
| `gray` | Серый | 180,180,180 | Приглушённый текст |
| `red` | Красный | 255,70,90 | Предупреждения, стоп |
| `green` | Зелёный | 50,255,130 | Успех, деньги, рост |
| `blue` | Синий | 80,160,255 | Спокойствие, tech |
| `yellow` | Жёлтый | 255,240,60 | Внимание, выделение |
| `orange` | Оранжевый | 255,140,40 | Энергия, срочность |
| `purple` | Фиолетовый | 200,100,255 | Креатив, премиум |
| `pink` | Розовый | 255,100,180 | Эмоции, женская ЦА |
| `cyan` | Голубой | 60,230,255 | Tech, свежесть |
| `coral` | Коралловый | 255,120,100 | Тепло, дружелюбие |
| `lime` | Лаймовый | 180,255,60 | Свежесть, энергия |
| `gold` | Золотой | 255,215,0 | Премиум, деньги |
| `rose` | Розовый мягкий | 255,150,180 | Нежность |

**HEX цвета:**
```
[c:FF5500]Ярко-оранжевый[/]
[c:#00FF00]Зелёный неон[/]
```

---

### 5. Кастомный размер — `[s:размер]слово[/]`

```
[s:120]ОГРОМНОЕ[/] слово
[s:50]мелкое[/] слово
```

**Размеры по умолчанию:**
- Обычный текст: 72px
- Акцент `**...**`: 110px
- Выделение `*...*`: 88px
- Приглушённый `_..._`: 58px

**Рекомендации:**
- 50-60px — мелкий текст, пояснения
- 70-90px — обычный текст
- 100-130px — акценты
- 140+ — только для одного слова, иначе не влезет

---

### 6. Комбинация — `[c:цвет,s:размер]слово[/]`

```
[c:red,s:120]ОПАСНОСТЬ[/]
[c:green,s:100]$1000[/]
[c:gold,s:130]ПОБЕДА[/]
```

---

### 7. Разрыв страницы — `---`

```
Первая мысль здесь.
---
Вторая мысль на чистом экране.
---
Третья страница.
```

**Когда использовать:**
- Смена темы
- Новый пункт списка
- Драматическая пауза
- Каждые 5-10 секунд аудио

---

## Практические паттерны

### Паттерн 1: Хук с акцентом

```
**$50,000** _за_ *один* месяц
---
_Вот_ **как** я это сделал
```

### Паттерн 2: Список с цветами

```
[c:red]Ошибка[/] номер **один**
---
[c:yellow]Ошибка[/] номер **два**
---
[c:green]Решение[/] — делай **так**
```

### Паттерн 3: Контраст

```
_Не_ **продавай** — *помогай*
---
_Не_ **говори** — *показывай*
```

### Паттерн 4: Эмоциональные пики

```
Я _просто_ хотел **сдаться**
---
_Но потом_ я понял **одну** вещь
---
**Всё** _меняется_ когда ты *начинаешь*
```

### Паттерн 5: CTA в конце

```
[c:yellow,s:90]Подписывайся[/] и жми
---
[c:red,s:110]КОЛОКОЛЬЧИК[/]
```

---

## Что НЕ делать

### 1. Не злоупотребляй акцентами

```
❌ **Я** **сегодня** **расскажу** **вам** **секрет**
✅ Я сегодня расскажу вам **секрет**
```

### 2. Не делай всё одним стилем

```
❌ *Все* *слова* *выделены* *жёлтым*
✅ Все слова *выделены* жёлтым
```

### 3. Не забывай про разрывы страниц

```
❌ Длинный текст без пауз который идёт и идёт и идёт очень долго и зритель теряется
✅ Короткая мысль.
   ---
   Ещё одна.
   ---
   И ещё.
```

### 4. Не используй слишком большие размеры для длинных слов

```
❌ [s:140]ПОДПИСЫВАЙСЯ[/] — не влезет в ширину
✅ [s:100]ПОДПИСЫВАЙСЯ[/] — нормально
```

---

## Оптимальная длина

- **Слов на странице:** 3-8 слов
- **Страниц на видео:** зависит от длины аудио
- **Разрыв страницы:** каждые 4-7 секунд аудио

---

## Пример полного скрипта

```
**Три** ошибки _которые_ *убивают* твой рост
---
[c:red]Ошибка[/] **первая**
---
Ты _просто_ **публикуешь** контент
---
_Без_ *исследования* ниши
---
[c:red]Ошибка[/] **вторая**
---
Ты **копируешь** _а не_ *адаптируешь*
---
[c:red]Ошибка[/] **третья**
---
Ты _не_ **удваиваешь** успех
---
[c:green]Решение[/] простое
---
**Изучай** _что_ *работает*
---
**Адаптируй** _под_ *себя*
---
**Повторяй** _успешное_
---
[c:yellow,s:90]Сохрани[/] это видео
---
[c:cyan]Подписывайся[/] _на_ **больше**
```

---

## Чек-лист перед рендером

- [ ] Главные слова выделены `**акцентом**`
- [ ] Есть контраст между стилями
- [ ] Страницы по 3-8 слов
- [ ] Разрывы `---` каждые 4-7 секунд
- [ ] Цвета используются осмысленно
- [ ] CTA в конце выделен
- [ ] Нет слишком длинных слов с большим размером

---

## Технические особенности движка

1. **Orphan protection** — короткие слова (от, в, на, с, и, а, к, у, о, за, из, по, до, не, но, же, бы) не остаются одни на строке

2. **Auto-shrink** — слишком длинные слова автоматически уменьшаются

3. **Safe zones** — текст не попадает под UI Instagram:
   - 250px сверху (username, аудио)
   - 320px снизу (лайки, комменты)

4. **Glow effect** — все слова имеют белое свечение для лучшей читаемости

5. **Центрирование** — текст центрируется по горизонтали

---

## Связанные инструменты

```bash
# Генерация голоса
python scripts/kie_tts.py script.txt -v Callum -o voice.mp3

# Извлечение таймингов
python scripts/audio_to_word_timestamps.py voice.mp3

# Создание видео
python scripts/styled_subtitles.py script.txt voice.mp3 --threads 30 -o output.mp4
```
