# План: Автоматический монтаж Reels для Bloom

> Создано: 2026-01-22
> Статус: В разработке
> Цель: Научить Claude монтировать Reels по входным данным для продвижения приложения Bloom

---

## 1. Контекст проекта

### 1.1 Что такое Bloom
**Bloom** — Telegram Mini App для романтических микро-жестов в отношениях.
- ЦА: пары в отношениях, 20-40 лет, СНГ
- Боль: "хочу быть лучшим партнёром, но не знаю как"
- Решение: AI генерирует персонализированные идеи микро-жестов

### 1.2 Цель видео-контента
Создавать Reels которые:
1. Привлекают ЦА (пары, отношения, романтика)
2. Дают ценность (инсайты про отношения)
3. Конвертят в Bloom (CTA в конце)

### 1.3 Референс: @besk_dg
Успешный аккаунт с философским контентом. Формат адаптируем под романтику.

**Проанализированное видео:** `downloads/besk_dg_full/004_DSp-gKYiB0x.mp4`
- 14 кадров извлечено в `downloads/besk_dg_full/frames_004/`

---

## 2. Структура видео (формула)

```
┌─────────────────────────────────────────────────────────────┐
│  0:00-0:05  ХУК                                              │
│  ├── Видео: уличное интервью (девушка/парень)               │
│  ├── Вопрос: "Что романтичного делал твой парень?"          │
│  └── Цель: остановить скролл, вызвать любопытство           │
├─────────────────────────────────────────────────────────────┤
│  0:05-0:08  PIVOT (переход)                                  │
│  ├── Текст: "Похуй. Давай к настоящему вопросу."            │
│  ├── Визуал: обложка книги или переход                       │
│  └── Цель: разрыв шаблона, переключение внимания            │
├─────────────────────────────────────────────────────────────┤
│  0:08-0:35  КОНТЕНТ (ценность)                               │
│  ├── Визуал: аниме/эстетика с романтикой                    │
│  ├── Текст: цитата про отношения (каскадом)                 │
│  ├── Озвучка: TTS через ElevenLabs                          │
│  └── Цель: дать инсайт, вызвать эмоцию                      │
├─────────────────────────────────────────────────────────────┤
│  0:35-0:40  CTA                                              │
│  ├── Текст: "больше идей для отношений в bloom"             │
│  ├── Визуал: лого + ссылка                                  │
│  └── Цель: конверсия в приложение                           │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. Готовые ресурсы (✅)

### 3.1 Музыка
| Файл | Путь | Статус |
|------|------|--------|
| beanie_chezile.mp3 | `downloads/music/beanie_chezile.mp3` | ✅ |

### 3.2 Шрифты
| Файл | Путь | Статус |
|------|------|--------|
| Montserrat-Bold.ttf | `downloads/fonts/Montserrat-Bold.ttf` | ✅ |

### 3.3 Инструменты
| Инструмент | Статус | Примечание |
|------------|--------|------------|
| FFmpeg | ✅ | `imageio_ffmpeg` |
| MoviePy | ✅ | Установлен |
| yt-dlp | ✅ | Для скачивания |
| video_analyzer.py | ✅ | `scripts/video_analyzer.py` |

### 3.4 API и ключи
| API | Статус | Файл |
|-----|--------|------|
| OpenAI (Whisper) | ✅ | `.env` |
| ElevenLabs TTS | ✅ | `scripts/t2s.py` |

**ElevenLabs голоса:**
- `NhY0kyTmsKuEpHvDMngm` — женский голос
- `ouyTiWqmHA5WI5bbX7zj` — мужской голос

**Резервные ключи ElevenLabs:**
```
sk_f530bdb7edaeaf0922712ebcd2c60e5da528c8d6d35991af  # основной
sk_8f53b961bc95423b2c5676f822082124d0b3de6e72e43e0c
sk_f1a6fd0b0c39b42e36eea50c32ad1fc8e260baef5d817f71
sk_a49eacc72fd29e242d86fb5857e0daf2ece3a907aad08db1
sk_cde1a9a6c3cb9090298872c31dd0bcf8532d28163c84c59b
sk_3a6dee5e732e9b647aeedea83c167c0c6f98f60ce1a775fa
sk_f5060bf1dbec99e321e7bec80dcf520509901e5f5b737aa2
```

**Гайд по TTS тегам:** `docs/elevenlabs_v3_guide.md`

---

## 4. Нужно найти/создать (⏳)

### 4.1 Хук-видео (уличные интервью)
| Тип | Кол-во | Тематика | Статус |
|-----|--------|----------|--------|
| Девушки отвечают | 20+ | Отношения, романтика | ⏳ |
| Парни отвечают | 10+ | Отношения, подарки | ⏳ |

**Где искать:**
- TikTok: #уличноеинтервью #отношения #парень #девушка
- YouTube: "уличный опрос отношения", "street interview couples"
- Instagram: аккаунты с опросами

**Примеры вопросов для поиска:**
- "Что романтичного делал твой парень?"
- "Какой самый милый жест от партнёра?"
- "Что бесит в отношениях?"
- "Как понять что он любит?"

### 4.2 Фоновые визуалы
| Категория | Кол-во | Настроение | Статус |
|-----------|--------|------------|--------|
| Аниме романтика | 20+ | Тёплое, уютное | ⏳ |
| Аниме пары | 15+ | Нежность | ⏳ |
| Эстетика ночь | 15+ | Атмосферное | ⏳ |
| Пиксель-арт | 10+ | Ностальгия | ⏳ |

**Источники (проверенные):**
- [Pixabay](https://pixabay.com/videos/search/anime/) — royalty-free
- [AnimeClips.online](https://animeclips.online/clips/) — без водяных знаков
- [AnimeAesthetic.com](https://animeaesthetic.com/) — вертикальные клипы
- [Vecteezy](https://www.vecteezy.com/free-videos/lofi-aesthetic) — lofi эстетика

### 4.3 Лого Bloom
| Элемент | Статус |
|---------|--------|
| Лого для угла видео | ⏳ Создать |
| Watermark | ⏳ |

---

## 5. Контент для Bloom (идеи)

### 5.1 Книги/источники для цитат
| Автор | Книга | Тема |
|-------|-------|------|
| Гэри Чепмен | 5 языков любви | Типы проявления любви |
| Джон Готтман | 7 принципов счастливого брака | Конфликты, доверие |
| Эстер Перель | Право на лево | Желание в долгих отношениях |
| Элен Фишер | Почему мы любим | Биология любви |

### 5.2 Темы для видео
1. Микро-жесты которые спасают отношения
2. Почему рутина убивает любовь
3. Как говорить на языке любви партнёра
4. Маленькие знаки внимания > большие подарки
5. Что делать когда "искра пропала"

### 5.3 Примеры хуков для Bloom
```
"Что самое милое делал для тебя парень?"
→ Похуй. Давай к настоящему вопросу — почему ты перестал это делать?

"Как часто получаешь цветы просто так?"
→ Похуй сколько. Давай разберём почему мелочи важнее больших жестов.

"Сколько комплиментов говоришь партнёру в день?"
→ Ноль? Давай к сути — как не потерять отношения из-за рутины.
```

---

## 6. Технический пайплайн

### 6.1 Структура папок
```
downloads/
├── music/
│   └── beanie_chezile.mp3        ✅
├── hooks/
│   └── [хук-видео].mp4           ⏳ собрать библиотеку
├── backgrounds/
│   └── [фоны].mp4                ⏳ скачать
├── fonts/
│   └── Montserrat-Bold.ttf       ✅
├── logos/
│   └── bloom_logo.png            ⏳ создать
└── output/
    └── [готовые рилсы].mp4
```

### 6.2 Скрипт монтажа (план)
```python
# scripts/reel_montage.py

class ReelMontage:
    def __init__(self, config):
        self.config = config

    def generate_tts(self, text):
        # ElevenLabs v3 с audio tags
        pass

    def create_hook_segment(self):
        # Хук-видео + текст оверлей
        pass

    def create_content_segment(self):
        # Фоны + каскадный текст + TTS
        pass

    def create_cta_segment(self):
        # CTA + лого
        pass

    def mix_audio(self):
        # Музыка + голос с ducking
        pass

    def export(self):
        # 1080x1920, 30fps, H.264
        pass
```

### 6.3 Входной формат (JSON)
```json
{
  "hook": {
    "video": "hooks/girl_interview_01.mp4",
    "question": "Что романтичного делал твой парень?"
  },
  "pivot": {
    "text": "Похуй. Давай к настоящему вопросу.",
    "subtext": "Почему мелочи важнее больших жестов?"
  },
  "content": {
    "quote": "Любовь живёт в мелочах. Не в кольцах и букетах, а в утреннем кофе и вечерних объятиях.",
    "source": "Гэри Чепмен",
    "highlight_words": ["мелочах", "кофе", "объятиях"]
  },
  "cta": {
    "text": "идеи для отношений каждый день",
    "app": "bloom"
  },
  "style": {
    "music": "beanie_chezile.mp3",
    "voice": "female",
    "color_scheme": "warm"
  }
}
```

---

## 7. План действий

### Фаза 1: Материалы ⏳ ТЕКУЩАЯ
- [x] Скачать музыку (beanie)
- [x] Скачать шрифт (Montserrat)
- [x] Настроить TTS (ElevenLabs)
- [ ] Собрать 10+ хук-видео
- [ ] Скачать 20+ фоновых клипов
- [ ] Создать лого Bloom

### Фаза 2: Базовый скрипт
- [ ] Написать ReelMontage класс
- [ ] Склейка видео (moviepy)
- [ ] Текстовые оверлеи
- [ ] Интеграция музыки

### Фаза 3: Качество
- [ ] Каскадная анимация текста
- [ ] Цветокоррекция
- [ ] Audio ducking
- [ ] Плавные переходы

### Фаза 4: Автоматизация
- [ ] CLI интерфейс
- [ ] Batch processing
- [ ] Генерация скриптов через Claude

---

## 8. Возможности Claude в этом проекте

### Что Claude МОЖЕТ делать:
1. **Анализировать видео** — через `video_analyzer.py` (нарезка на кадры)
2. **Скачивать контент** — через `yt-dlp` (YouTube, SoundCloud, TikTok)
3. **Генерировать TTS** — через ElevenLabs API (`scripts/t2s.py`)
4. **Транскрибировать аудио** — через OpenAI Whisper
5. **Монтировать видео** — через MoviePy/FFmpeg
6. **Писать скрипты** — генерировать тексты для видео
7. **Искать материалы** — через веб-поиск

### Ограничения:
- Не может рендерить сложную анимацию в реальном времени
- Скачивание с некоторых сайтов может быть заблокировано
- TTS требует API ключи с лимитами

---

## 9. Прогресс

| Дата | Что сделано |
|------|-------------|
| 2026-01-22 | Создан план, проанализирован референс @besk_dg |
| 2026-01-22 | ✅ Скачан трек beanie_chezile.mp3 |
| 2026-01-22 | ✅ Скачан шрифт Montserrat-Bold.ttf |
| 2026-01-22 | ✅ Установлен moviepy |
| 2026-01-22 | ✅ Найдены источники для клипов |
| 2026-01-22 | ✅ Сохранены API ключи ElevenLabs |
| 2026-01-22 | ⏳ Следующий шаг: собрать библиотеку хук-видео |

---

## 10. Быстрые команды

```bash
# Анализ видео (нарезка на кадры)
python scripts/video_analyzer.py video.mp4 -o frames_folder

# TTS генерация
python scripts/t2s.py  # редактировать текст внутри

# Скачать с YouTube
yt-dlp -f "best[height<=1080]" --ffmpeg-location "C:/Program Files/Python311/Lib/site-packages/imageio_ffmpeg/binaries/ffmpeg-win-x86_64-v7.1.exe" -o "output.%(ext)s" "URL"

# Скачать аудио
yt-dlp -x --audio-format mp3 --ffmpeg-location "..." -o "audio.%(ext)s" "URL"
```
